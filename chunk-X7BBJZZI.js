import{a as V}from"./chunk-L3QPFFUL.js";import{b as E,d as P,h as B,j as T,m as Q,n as W,o as A,p as j,r as D,s as z}from"./chunk-UFPJ4GYC.js";import"./chunk-OKAOL6XJ.js";import{$a as f,Ba as a,Cb as S,Db as M,Eb as N,Gb as F,Hb as I,Ja as y,Na as x,Ta as u,Xa as r,Y as p,Ya as n,Z as m,_a as b,ab as c,db as l,eb as O,fb as g,hb as _,ib as h,jb as w,lb as k,ob as C,pb as v}from"./chunk-PDUJVWJ6.js";var L=(o,t)=>({"bg-primary text-background-dark font-bold shadow-lg shadow-primary/20":o,"bg-surface-light dark:bg-surface-dark border border-slate-300 dark:border-slate-700 text-slate-600 dark:text-slate-300 font-medium":t}),q=(o,t)=>({"bg-green-600 text-white":o,"bg-amber-500 text-white":t});function R(o,t){if(o&1){let e=b();r(0,"button",11),f("click",function(){let i=p(e).$implicit,d=c();return m(d.filterStatus(i))}),l(1),n()}if(o&2){let e=t.$implicit,s=c();u("ngClass",k(2,L,s.selectedStatus===e,s.selectedStatus!==e)),a(),g(" ",e," ")}}function G(o,t){if(o&1){let e=b();r(0,"div",12)(1,"div",13)(2,"span",14),l(3),n(),r(4,"button",15),f("click",function(){let i=p(e).index,d=c();return m(d.confirmOrderOutside(i))}),l(5),n()(),r(6,"div",16)(7,"span",17),l(8),n(),r(9,"span",17),l(10),n(),r(11,"span",18),l(12),C(13,"date"),n()()()}if(o&2){let e=t.$implicit;a(3),g("#",e.id,""),a(),u("ngClass",k(9,q,e.status==="Confirmed",e.status==="Pending"))("disabled",e.status==="Confirmed"),a(),g(" ",e.status,`
`),a(3),g("Book ISBN: ",e.bookIsbn,""),a(2),g("Quantity: ",e.quantity,""),a(2),O(v(13,7,e.date))}}function Y(o,t){if(o&1&&(r(0,"option",27),l(1),n()),o&2){let e=t.$implicit;u("value",e.isbn),a(),O(e.title)}}function J(o,t){if(o&1){let e=b();r(0,"div",19),f("click",function(){p(e);let i=c();return m(i.closeNewOrderForm())}),r(1,"div",20),f("click",function(i){return p(e),m(i.stopPropagation())}),r(2,"h2",21),l(3,"New Order"),n(),r(4,"div",22)(5,"label",17),l(6,"Select Book"),n(),r(7,"select",23),w("ngModelChange",function(i){p(e);let d=c();return h(d.newOrderBookIsbn,i)||(d.newOrderBookIsbn=i),m(i)}),x(8,Y,2,2,"option",24),n(),r(9,"label",17),l(10,"Quantity"),n(),r(11,"input",25),w("ngModelChange",function(i){p(e);let d=c();return h(d.newOrderQuantity,i)||(d.newOrderQuantity=i),m(i)}),n(),r(12,"button",26),f("click",function(){p(e);let i=c();return m(i.placeNewOrder())}),l(13,"Place Order"),n()()()()}if(o&2){let e=c();a(7),_("ngModel",e.newOrderBookIsbn),a(),u("ngForOf",e.books),a(3),_("ngModel",e.newOrderQuantity)}}var H=class o{orders=[];filteredOrders=[];books=[{isbn:"978-0553380163",title:"A Brief History of Time",authors:["Stephen Hawking"],publisher:"Bantam",year:1988,price:12.99,category:"Science",stock:24,threshold:5},{isbn:"978-0062316097",title:"Sapiens",authors:["Yuval Noah Harari"],publisher:"Harper",year:2011,price:14.99,category:"History",stock:3,threshold:5}];orderStatuses=["Pending","Confirmed"];selectedStatus="All";searchQuery="";showNewOrderForm=!1;newOrderBookIsbn="";newOrderQuantity=1;openNewOrderModal(){this.showNewOrderForm=!0}closeNewOrderForm(){this.showNewOrderForm=!1,this.newOrderBookIsbn="",this.newOrderQuantity=1}placeNewOrder(){if(!this.newOrderBookIsbn||this.newOrderQuantity<1)return;let t={id:this.orders.length+1,bookIsbn:this.newOrderBookIsbn,quantity:this.newOrderQuantity,status:"Pending",date:new Date};this.orders.push(t),this.filteredOrders=[...this.orders],this.closeNewOrderForm()}confirmOrderOutside(t){this.orders[t].status==="Pending"&&(this.orders[t].status="Confirmed",this.filteredOrders=[...this.orders])}filterOrders(){this.filteredOrders=this.orders.filter(t=>t.bookIsbn.includes(this.searchQuery))}filterStatus(t){this.selectedStatus=t,t==="All"?this.filteredOrders=[...this.orders]:this.filteredOrders=this.orders.filter(e=>e.status===t)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=y({type:o,selectors:[["app-orders"]],decls:14,vars:4,consts:[[1,"flex","flex-col","gap-4","p-4","z-20"],[1,"relative","group"],["type","text","placeholder","Search Orders...",1,"block","w-full","p-3","pr-10","text-sm","rounded-lg","bg-surface-light","dark:bg-surface-dark","border","border-slate-300","dark:border-slate-700","placeholder-transparent","focus:border-primary","focus:ring-primary","dark:focus:border-primary","dark:focus:ring-primary","focus:outline-none","shadow-sm","transition-all",3,"ngModelChange","input","ngModel"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3","pointer-events-none"],[1,"text-slate-400","group-focus-within:text-primary","transition-colors","text-base"],[1,"flex","gap-2","overflow-x-auto","no-scrollbar","pb-1"],["class","flex h-9 shrink-0 items-center justify-center px-4 rounded-full",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-3","px-4"],["class","relative group flex flex-col gap-3 p-4 rounded-xl border border-slate-300 dark:border-slate-700 bg-surface-light dark:bg-surface-dark shadow-sm hover:shadow-md transition-all",4,"ngFor","ngForOf"],[1,"addbtn","text-[30px]","z-50","text-slate-400","hover:text-primary","text-sm",3,"click"],["class"," fixed inset-0 z-50 bg-black/50 flex items-center justify-center",3,"click",4,"ngIf"],[1,"flex","h-9","shrink-0","items-center","justify-center","px-4","rounded-full",3,"click","ngClass"],[1,"relative","group","flex","flex-col","gap-3","p-4","rounded-xl","border","border-slate-300","dark:border-slate-700","bg-surface-light","dark:bg-surface-dark","shadow-sm","hover:shadow-md","transition-all"],[1,"flex","items-center","justify-between"],[1,"font-bold","text-slate-400","dark:text-slate-300","text-xs","tracking-wider","uppercase"],[1,"px-3","py-1","rounded-full","text-[10px]","font-bold",3,"click","ngClass","disabled"],[1,"flex","flex-col","gap-1"],[1,"text-sm","text-slate-700","dark:text-slate-300"],[1,"text-xs","text-slate-500","dark:text-slate-400"],[1,"fixed","inset-0","z-50","bg-black/50","flex","items-center","justify-center",3,"click"],[1,"addOrder","rounded-lg","max-w-md","w-full","p-6","shadow-lg",3,"click"],[1,"text-lg","font-bold","mb-4","text-slate-900","dark:text-white"],[1,"flex","flex-col","gap-3"],[1,"p-2","rounded","border","border-slate-300","dark:border-slate-700","bg-surface-light","dark:bg-surface-dark",3,"ngModelChange","ngModel"],["class","category",3,"value",4,"ngFor","ngForOf"],["type","number","min","1",1,"p-2","rounded","border","border-slate-300","dark:border-slate-700","bg-surface-light","dark:bg-surface-dark",3,"ngModelChange","ngModel"],[1,"mt-4","w-full","px-4","py-2","bg-green-600","text-white","rounded-lg","hover:bg-green-500",3,"click"],[1,"category",3,"value"]],template:function(e,s){e&1&&(r(0,"div",0)(1,"div",1)(2,"input",2),w("ngModelChange",function(d){return h(s.searchQuery,d)||(s.searchQuery=d),d}),f("input",function(){return s.filterOrders()}),n(),r(3,"div",3)(4,"mat-icon",4),l(5,"search"),n()()(),r(6,"div",5),x(7,R,2,5,"button",6),n(),r(8,"div",7),x(9,G,14,12,"div",8),n(),r(10,"button",9),f("click",function(){return s.openNewOrderModal()}),r(11,"mat-icon"),l(12,"add"),n()(),x(13,J,14,3,"div",10),n()),e&2&&(a(2),_("ngModel",s.searchQuery),a(5),u("ngForOf",s.orderStatuses),a(2),u("ngForOf",s.filteredOrders),a(4),u("ngIf",s.showNewOrderForm))},dependencies:[I,S,M,N,F,D,W,A,E,T,Q,P,j,B,V,z],styles:[".category[_ngcontent-%COMP%]{color:#000!important}.addbtn[_ngcontent-%COMP%]{position:fixed;bottom:5px;right:5px;height:50px;width:50px;display:flex;align-items:center;justify-content:center;border-radius:50%}.addbtn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:28px}.addOrder[_ngcontent-%COMP%]{background-color:var(--background_color)}"]})};export{H as OrdersComponent};
