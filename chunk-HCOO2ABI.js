import{c as B}from"./chunk-CIB6T4TE.js";import{d as k,h as P,m as v,n as S,o as y,r as x}from"./chunk-UFPJ4GYC.js";import{$a as p,Ba as i,Db as O,Hb as f,Ja as h,Na as g,Ta as l,Xa as n,Ya as t,Za as C,db as a,eb as c,fb as u,hb as _,ib as b,jb as M}from"./chunk-PDUJVWJ6.js";function w(s,e){if(s&1&&(n(0,"tr")(1,"td"),a(2),t(),n(3,"td"),a(4),t()()),s&2){let r=e.$implicit;i(2),c(r.title),i(2),c(r.copiesSold)}}function T(s,e){if(s&1&&(n(0,"option",12),a(1),t()),s&2){let r=e.$implicit;l("value",r.title),i(),c(r.title)}}var E=class s{totalSalesPreviousMonth=1250;totalSalesPreviousWeek=310;showLastMonth=!0;topCustomers=[{name:"Alice",amount:500},{name:"Bob",amount:450},{name:"Charlie",amount:400},{name:"David",amount:300},{name:"Eve",amount:250}];topBooks=[{title:"Book A",copiesSold:120,orders:15},{title:"Book B",copiesSold:110,orders:10},{title:"Book C",copiesSold:95,orders:12},{title:"Book D",copiesSold:90,orders:8},{title:"Book E",copiesSold:80,orders:5}];selectedBook=this.topBooks[0].title;bookOrderCount=this.topBooks[0].orders;salesChartData={labels:["Week 1","Week 2","Week 3","Week 4"],datasets:[{label:"Total Sales",data:[1e3,1200,900,this.totalSalesPreviousMonth],backgroundColor:getComputedStyle(document.documentElement).getPropertyValue(" --foreground_color")||"#0B67E6"}]};salesChartOptions={responsive:!0,animation:{duration:800},plugins:{legend:{display:!1}}};salesChartType="bar";topCustomersChartData={labels:this.topCustomers.map(e=>e.name),datasets:[{label:"Purchases",data:this.topCustomers.map(e=>e.amount),backgroundColor:["#667fffff","#d966ffff","#FF6666","#FF9900","#33CC33"]}]};topCustomersChartType="pie";topCustomersChartOptions={responsive:!0,plugins:{legend:{position:"bottom",labels:{color:"#0043fdff"}}}};toggleSalesPeriod(){this.showLastMonth=!this.showLastMonth;let e=this.showLastMonth?[1e3,1200,900,this.totalSalesPreviousMonth]:[80,90,70,this.totalSalesPreviousWeek],r=this.showLastMonth?["Week 1","Week 2","Week 3","Week 4"]:["Mon","Tue","Wed","Thu"];this.salesChartData.datasets[0].data=e,this.salesChartData.labels=r,this.updateBarChartColor()}updateBarChartColor(){let e=getComputedStyle(document.documentElement).getPropertyValue("--primary_color")||"#0B67E6";this.salesChartData.datasets[0].backgroundColor=e}updateBookOrderCount(){let e=this.topBooks.find(r=>r.title===this.selectedBook);this.bookOrderCount=e?e.orders:0}printPage(){window.print()}static \u0275fac=function(r){return new(r||s)};static \u0275cmp=h({type:s,selectors:[["app-reports"]],decls:33,vars:11,consts:[[1,"report-container"],[1,"text-primary"],[1,"charts-wrapper"],[1,"chart-card"],[1,"text-secondary"],[1,"toggle-btn",3,"click"],["baseChart","",3,"data","options","type"],[1,"chart-section"],[4,"ngFor","ngForOf"],[3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"print-btn",3,"click"],[3,"value"]],template:function(r,o){r&1&&(n(0,"div",0)(1,"h1",1),a(2,"System Reports (Admin Only)"),t(),n(3,"section",2)(4,"div",3)(5,"h2",4),a(6,"Total Sales"),t(),n(7,"button",5),p("click",function(){return o.toggleSalesPeriod()}),a(8),t(),C(9,"canvas",6),t(),n(10,"div",3)(11,"h2",4),a(12,"Top 5 Customers (Last 3 Months)"),t(),C(13,"canvas",6),t()(),n(14,"section",7)(15,"h2",4),a(16,"Top Selling Books (Last 3 Months)"),t(),n(17,"table")(18,"tr")(19,"th"),a(20,"Title"),t(),n(21,"th"),a(22,"Copies Sold"),t()(),g(23,w,5,2,"tr",8),t()(),n(24,"section",7)(25,"h2",4),a(26,"Total Orders for a Specific Book"),t(),n(27,"select",9),M("ngModelChange",function(m){return b(o.selectedBook,m)||(o.selectedBook=m),m}),p("change",function(){return o.updateBookOrderCount()}),g(28,T,2,2,"option",10),t(),n(29,"p"),a(30),t()(),n(31,"button",11),p("click",function(){return o.printPage()}),a(32,"Print Report"),t()()),r&2&&(i(8),u(" ",o.showLastMonth?"Show Last Week":"Show Last Month"," "),i(),l("data",o.salesChartData)("options",o.salesChartOptions)("type",o.salesChartType),i(4),l("data",o.topCustomersChartData)("options",o.topCustomersChartOptions)("type",o.topCustomersChartType),i(10),l("ngForOf",o.topBooks),i(4),_("ngModel",o.selectedBook),i(),l("ngForOf",o.topBooks),i(2),u("Number of orders: ",o.bookOrderCount,""))},dependencies:[B,f,O,x,S,y,v,k,P],styles:[".report-container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:20px}.report-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .report-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:10px}.report-container[_ngcontent-%COMP%]   .charts-wrapper[_ngcontent-%COMP%]{display:flex;gap:20px;flex-wrap:wrap;justify-content:center}.report-container[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]{flex:1 1 400px;padding:20px;border:1px solid var(--primary_color);border-radius:8px;text-align:center;background-color:var(--background_color);box-shadow:0 2px 10px #0000001a}.report-container[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{margin:20px auto;max-width:100%}.report-container[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{background-color:var(--secondary_color);color:var(--foreground_color);border:none;padding:8px 16px;border-radius:5px;cursor:pointer;margin-bottom:10px}.report-container[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover{background-color:var(--hover_color)}.report-container[_ngcontent-%COMP%]   .print-btn[_ngcontent-%COMP%]{background-color:var(--primary_color);color:var(--foreground_color);border:none;padding:10px 20px;border-radius:5px;cursor:pointer}.report-container[_ngcontent-%COMP%]   .print-btn[_ngcontent-%COMP%]:hover{background-color:var(--secondary_color)}.report-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.report-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .report-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;border:1px solid var(--primary_color)}.report-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:var(--primary_color);color:var(--foreground_color)}.report-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#0b67e61a}.report-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#0b67e633}"]})};export{E as ReportsComponent};
