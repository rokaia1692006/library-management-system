<div class="flex flex-col gap-4 p-4 z-20">
  <!-- Search AJAX -->
  <div class="relative group">
    <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
      <span class="material-symbols-outlined text-slate-400 group-focus-within:text-primary transition-colors">search</span>
    </div>
    <input type="text"
      class="block w-full p-3 pl-10 text-sm rounded-lg bg-surface-light dark:bg-surface-dark border border-slate-300 dark:border-slate-700 placeholder-transparent focus:border-primary focus:ring-primary dark:focus:border-primary dark:focus:ring-primary focus:outline-none shadow-sm transition-all"
      [(ngModel)]="searchQuery" (input)="filterBooks()" />
  </div>

  <!-- Category slider -->
  <div class="flex gap-2 overflow-x-auto no-scrollbar pb-1">
    <button *ngFor="let cat of categories" (click)="filterCategory(cat)"
      class="flex h-9 shrink-0 items-center justify-center px-4 rounded-full"
      [ngClass]="{
        'bg-primary text-background-dark font-bold shadow-lg shadow-primary/20': selectedCategory === cat,
        'bg-surface-light dark:bg-surface-dark border border-slate-300 dark:border-slate-700 text-slate-600 dark:text-slate-300 font-medium': selectedCategory !== cat
      }">
      {{ cat }}
    </button>
  </div>
</div>

<!-- Books grid -->
<div class="flex flex-col gap-3 px-4">
  <div *ngFor="let book of filteredBooks"
       class="relative group flex items-start gap-4 p-3 bg-surface-light dark:bg-surface-dark rounded-xl border border-slate-300 dark:border-slate-700 shadow-sm transition-all hover:scale-[1.01]">
    
    <!-- Book Icon -->
    <div class="shrink-0 w-20 h-28 rounded-lg bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-slate-500 dark:text-slate-300 text-4xl">
      <span class="material-symbols-outlined">menu_book</span>
    </div>

    <!-- Book Info -->
    <div class="flex-1 min-w-0 flex flex-col h-full justify-between py-0.5">
      <div>
        <div class="flex justify-between items-start">
          <h3 class="text-base font-bold leading-tight line-clamp-2 pr-6 text-slate-900 dark:text-white">{{ book.title }}</h3>
          <div class="flex items-center gap-1">
            <span class="text-sm font-semibold text-slate-900 dark:text-white">$ {{ book.price.toFixed(2) }}</span>
           
            <button class="opacity-0 group-hover:opacity-100 transition-opacity text-slate-400 hover:text-primary"
              >
              <span class="material-symbols-outlined">edit</span>













            </button>
            
        </div>
        <p class="text-xs text-slate-500 dark:text-slate-400 mt-1 font-medium">{{ book.authors.join(', ') }}</p>
        <p class="text-[10px] text-slate-400 dark:text-slate-500 mt-0.5 font-mono">ISBN: {{ book.isbn }}</p>
      </div>

      <!-- Stock & Category -->
      <div class="flex items-center gap-2 mt-3">
        <span class="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-bold"
          [ngClass]="{
            'bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border border-emerald-500/20': book.stock > book.threshold,
            'bg-amber-500/10 text-amber-600 dark:text-amber-400 border border-amber-500/20': book.stock <= book.threshold && book.stock > 0,
            'bg-rose-500/10 text-rose-600 dark:text-rose-400 border border-rose-500/20': book.stock === 0
          }">
          {{ book.stock }} in Stock
        </span>
        <span class="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-bold bg-slate-100 dark:bg-surface-dark text-slate-500 dark:text-slate-300">
          {{ book.category }}
        </span>
      </div>
    </div>
  </div>
</div>
